<!DOCTYPE html>
<html lang="en" dir="ltr" data-startbar="light" data-bs-theme="light">

<head>


    <meta charset="utf-8" />
    <title>MatryRiska | Gaps </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />


    <link href="/assets/libs/simple-datatables/style.css" rel="stylesheet" type="text/css" />
    <!-- App css -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/app.min.css" rel="stylesheet" type="text/css" />


    {{inject_head}}

</head>


<!-- Top Bar Start -->

<body>

    {{inject_top}}

    {{inject_side}}


    <div class="page-wrapper">

        <!-- Page Content-->
        <div class="page-content">
            <div class="container-xxl">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h4 class="card-title">Your Gaps</h4>
                                    </div>
                                    <!--end col-->
                                    <div class="col-auto">
                                        <div class="row g-2">

                                            <div class="col-auto">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                    onclick="document.location.href='/c1/gaps/create'"
                                                    data-bs-target="#addBoard"><i class="fa-solid fa-plus me-1"></i>
                                                    Add Gaps
                                                </button>
                                            </div>
                                            <!--end col-->
                                        </div>
                                    </div>

                                    <div class="accordion" id="accordion-howto" style="margin-top: 15px;">
                                        <div class="accordion-item">
                                            <h5 class="accordion-header m-0" id="headingOne">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="false"
                                                    aria-controls="collapseOne">
                                                    What is my gaps ?
                                                </button>
                                            </h5>
                                            <div id="collapseOne" class="accordion-collapse collapse"
                                                aria-labelledby="headingOne" data-bs-parent="#accordionExample-faq">
                                                <div class="accordion-body">

                                                    In a gaps analysis within the context of risk and compliance
                                                    management, a gap refers to a discrepancy or shortfall between
                                                    current practices and the standards, guidelines, or policies that an
                                                    organization aims to adhere to. Essentially, it’s an identification
                                                    of areas where the organization does not fully meet the requirements
                                                    or best practices laid out by internal or external referentials
                                                    (e.g., regulatory standards, security guidelines, or internal
                                                    policies).
                                                    <br>
                                                    <br>
                                                    A gaps analysis serves to highlight these discrepancies so that the
                                                    organization can:<br>
                                                    • Understand risk exposure due to non-compliance.<br>
                                                    • Prioritize areas for improvement based on the criticality of each
                                                    gap.<br>
                                                    • Propose corrective measures (e.g., changing configurations,
                                                    updating policies) to close these gaps.<br><br>

                                                    In summary, a gap in a gaps analysis is an area where the
                                                    organization’s practices fall short of established guidelines,
                                                    posing potential risks that need to be addressed to improve
                                                    compliance and security.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end col-->
                                </div>
                                <!--end row-->
                            </div>
                            <!--end card-header-->
                            <div class="card-body pt-0">

                                <div class="table-responsive">
                                    <table class="table mb-0 checkbox-all" id="datatable_1">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Gaps id</th>
                                                <th>Source type</th>
                                                <th>Source</th>
                                                <th>State</th>
                                                <th>Gap</th>
                                                <th class="text-end">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            {{gaps_list}}

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end col -->
                </div> <!-- end row -->
            </div><!-- container -->

            {{inject_footer}}

            <!--end footer-->
        </div>
        <!-- end page content -->
    </div>
    <!-- end page-wrapper -->

    <!-- Javascript  -->
    <!-- vendor js -->

    <script src="/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/libs/simplebar/simplebar.min.js"></script>
    <script src="/assets/libs/simple-datatables/umd/simple-datatables.js"></script>
    <script src="/assets/js/pages/datatable.init.js"></script>
    <script src="/assets/js/app.js"></script>

    <script>
        async function delete_gap(gaps_id) {
            if (confirm("Are you sure you want to delete this gap ?")) {
                const response = await fetch('/api/gaps/delete', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        gaps_id: gaps_id
                    })
                })

                document.getElementById('asset_' + gaps_id).remove()
            }
        }
    </script>
</body>
<!--end body-->

</html>